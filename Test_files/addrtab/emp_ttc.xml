<node description="TTC block control registers" fwinfo="endpoint" class="TTCNode">

    <!-- Clock lock, sel registers etc. in separate block, as not in clock40 domain -->
	<node id="mux" fwinfo="endpoint;width=1">
		<node id="clk40_mmcm_reset" mask="0x1"/>
		<node id="clk40_sel" mask="0x6"/>
		<node id="tcds_sel"  mask="0x18"/>
		<node id="clk40_lock" address="0x1" mask="0x1" permission="r"/>
		<node id="clk40_stop" address="0x1" mask="0x2" permission="r"/>
		<node id="has_legacy_interface" address="0x1" mask="0x4" permission="r" description="High if legacy interface instantiated"/>
		<node id="has_tcds2_interface"  address="0x1" mask="0x8" permission="r" description="High if TCDS2 interface instantiated"/>
	</node>

	<node id="master" description="TTC master">
		<node id="common" address="0x10" fwinfo="endpoint;width=4">
			<node id="ctrl" address="0x0">
				<node id="reset"          mask="0x1"/>
				<node id="enable_int_bc0" mask="0x2"/>
				<node id="clear_ctr"      mask="0x4"/>
				<node id="force_b_cmd"    mask="0x8"/>
				<node id="b_cmd"          mask="0xff0"/>

				<node id="clock_phase"        mask="0x0fff000"/>
				<node id="enable_clock_phase" mask="0x1000000"/>
			</node>
			<node id="stat" address="0x8">
				<node id="bc0_lock"         mask="0x1"     permission="r"/>
				<node id="dist_lock"        mask="0x2"     permission="r"/>
				<node id="clock_phase_ok"   mask="0x4"     permission="r"/>
				<node id="bunch_ctr"        mask="0xfff0"  permission="r"/>
				<node id="event_ctr"        address="0x1"  permission="r"/>
				<node id="orbit_ctr"        address="0x2"  permission="r"/>
				<node id="bc0_counters" address="0x3">
					<node id="on_time" address="0x0" permission="r"/>
					<node id="invalid" address="0x1" permission="r"/>
					<node id="missing" address="0x2" permission="r"/>
				</node>
			</node>
		</node>
		<node id="legacy" address="0x20" fwinfo="endpoint;width=1">
			<node id="ctrl">
				<node id="clear_err_ctr" mask="0x1"/>
			</node>
			<node id="stat" address="0x1">
				<node id="single_biterr_ctr" mask="0x0000ffff" permission="r"/>
				<node id="double_biterr_ctr" mask="0xffff0000" permission="r"/>
			</node>
		</node>
		<node id="tcds2" address="0x100" module="file://ipbus_tcds2_interface_accessor.xml" description="TCDS2 interface"/>
	</node>

	<node id="freq" address="0x200" module="file://ipbus_freq_ctr.xml"/>
	<node id="hist" module="file://emp_state_history.xml" address="0x204"/>
	<node id="cmd_ctrs" address="0x208" description="TTC command counters" fwinfo="endpoint;width=1">
		<node id="ctr_sel" address="0x0"/>
		<node id="ctr" address="0x1"/>
	</node>
</node>
